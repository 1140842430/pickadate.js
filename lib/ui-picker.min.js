!function(a,b){"function"==typeof define&&define.amd?define(["jquery","shadow"],b):"object"==typeof exports?module.exports=b(require("jquery"),require("shadow")):a.Picker=b(a.$,a.shadow)}(this,function(a,b){"use strict";function c(a){var b=a.$el[0],c=a.$host[0];e.on("click."+a.id,function(d){var e=d.target;b===e||c===e||b.contains(e)||c.contains(e)||a.close()})}var d=b._.el,e=a(document),f={name:"Picker"};return f.attrs={opened:null},f.classNames={host:"",opened:"--opened",holder:"holder",frame:"frame",wrap:"wrap",box:"box"},f.classNamesPrefix="picker",f.create=function(a){var b=this._super(a),d=b.classNames,f=b.attrs,g=b.$host.addClass(d.host);b.on("set:opened."+b.id,function(a){var f=a.value;g.toggleClass(d.opened,f),f&&"always"!=f?c(b):e.off("click."+b.id)}),f.opened&&(f.opened=f.opened);var h="click."+b.id+" focusin."+b.id;return b.$el.on(h,function(){b.open()}),b.$el[0]!==b.$host[0]&&b.$host.on(h,function(){b.open()}),b},f.open=function(){this.attrs.opened||(this.attrs.opened=!0)},f.close=function(){this.attrs.opened&&(this.attrs.opened=!1)},f.toggle=function(){this.attrs.opened=!this.attrs.opened},f.template=function(){var a=this,b=a.classNames,c=d(b.holder,d(b.frame,d(b.wrap,d(b.box,a.content)))),e=document.createDocumentFragment();return e.appendChild(c),e},f=b.DataElement.extend(f)});