/*!
 * pickadate.js v3.5.6, 2015/04/20
 * By Amsul, http://amsul.ca
 * Hosted on http://amsul.github.io/pickadate.js
 * Licensed under MIT
 */
(function(a){if(typeof define=="function"&&define.amd){define("picker",["jquery"],a)}else{if(typeof exports=="object"){module.exports=a(require("jquery"))}else{this.Picker=a(jQuery)}}}(function(g){var b=g(window);var e=g(document);var f=g(document.documentElement);var a=document.documentElement.style.transition!=null;function h(y,r,p,z){if(!y){return h}var w=false,C={id:y.id||"P"+Math.abs(~~(Math.random()*new Date()))},D=p?g.extend(true,{},p.defaults,z):z||{},u=g.extend({},h.klasses(),D.klass),o=g(y),t=function(){return this.start()},q=t.prototype={constructor:t,$node:o,start:function(){if(C&&C.start){return q}C.methods={};C.start=true;C.open=false;C.type=y.type;y.autofocus=y==j();y.readOnly=!D.editable;y.id=y.id||C.id;if(y.type!="text"){y.type="text"}q.component=new p(q,D);q.$root=g('<div class="'+u.picker+'" id="'+y.id+'_root" />');v();q.$holder=g(x()).appendTo(q.$root);A();if(D.formatSubmit){E()}s();if(D.containerHidden){g(D.containerHidden).append(q._hidden)}else{o.after(q._hidden)}if(D.container){g(D.container).append(q.$root)}else{o.after(q.$root)}q.on({start:q.component.onStart,render:q.component.onRender,stop:q.component.onStop,open:q.component.onOpen,close:q.component.onClose,set:q.component.onSet}).on({start:D.onStart,render:D.onRender,stop:D.onStop,open:D.onOpen,close:D.onClose,set:D.onSet});w=k(q.$holder[0]);if(y.autofocus){q.open()}return q.trigger("start").trigger("render")},render:function(F){if(F){q.$holder=g(x());A();q.$root.html(q.$holder)}else{q.$root.find("."+u.box).html(q.component.nodes(C.open))}return q.trigger("render")},stop:function(){if(!C.start){return q}q.close();if(q._hidden){q._hidden.parentNode.removeChild(q._hidden)}q.$root.remove();o.removeClass(u.input).removeData(r);setTimeout(function(){o.off("."+C.id)},0);y.type=C.type;y.readOnly=false;q.trigger("stop");C.methods={};C.start=false;return q},open:function(F){if(C.open){return q}o.addClass(u.active);i(y,"expanded",true);setTimeout(function(){q.$root.addClass(u.opened);i(q.$root[0],"hidden",false)},0);if(F!==false){C.open=true;if(w){f.css("overflow","hidden").css("padding-right","+="+d())}B();e.on("click."+C.id+" focusin."+C.id,function(G){var H=G.target;if(H!=y&&H!=document&&G.which!=3){q.close(H===q.$holder[0])}}).on("keydown."+C.id,function(H){var G=H.keyCode,I=q.component.key[G],J=H.target;if(G==27){q.close(true)}else{if(J==q.$holder[0]&&(I||G==13)){H.preventDefault();if(I){h._.trigger(q.component.key.go,q,[h._.trigger(I)])}else{if(!q.$root.find("."+u.highlighted).hasClass(u.disabled)){q.set("select",q.component.item.highlight);if(D.closeOnSelect){q.close(true)}}}}else{if(g.contains(q.$root[0],J)&&G==13){H.preventDefault();J.click()}}}})}return q.trigger("open")},close:function(F){if(F){if(D.editable){y.focus()}else{q.$holder.off("focus.toOpen").focus();setTimeout(function(){q.$holder.on("focus.toOpen",m)},0)}}o.removeClass(u.active);i(y,"expanded",false);setTimeout(function(){q.$root.removeClass(u.opened+" "+u.focused);i(q.$root[0],"hidden",true)},0);if(!C.open){return q}C.open=false;if(w){f.css("overflow","").css("padding-right","-="+d())}e.off("."+C.id);return q.trigger("close")},clear:function(F){return q.set("clear",null,F)},set:function(H,J,G){var L,K,I=g.isPlainObject(H),F=I?H:{};G=I&&g.isPlainObject(J)?J:G||{};if(H){if(!I){F[H]=J}for(L in F){K=F[L];if(L in q.component.item){if(K===undefined){K=null}q.component.set(L,K,G)}if(L=="select"||L=="clear"){o.val(L=="clear"?"":q.get(L,D.format)).trigger("change")}}q.render()}return G.muted?q:q.trigger("set",F)},get:function(F,H){F=F||"value";if(C[F]!=null){return C[F]}if(F=="valueSubmit"){if(q._hidden){return q._hidden.value}F="value"}if(F=="value"){return y.value}if(F in q.component.item){if(typeof H=="string"){var G=q.component.get(F);return G?h._.trigger(q.component.formats.toString,q.component,[H,G]):""}return q.component.get(F)}},on:function(H,L,G){var J,K,I=g.isPlainObject(H),F=I?H:{};if(H){if(!I){F[H]=L}for(J in F){K=F[J];if(G){J="_"+J}C.methods[J]=C.methods[J]||[];C.methods[J].push(K)}}return q},off:function(){var F,G,H=arguments;for(F=0,namesCount=H.length;F<namesCount;F+=1){G=H[F];if(G in C.methods){delete C.methods[G]}}return q},trigger:function(G,H){var F=function(I){var J=C.methods[I];if(J){J.map(function(K){h._.trigger(K,q,[H])})}};F("_"+G);F(G);return q}};function x(){return h._.node("div",h._.node("div",h._.node("div",h._.node("div",q.component.nodes(C.open),u.box),u.wrap),u.frame),u.holder,'tabindex="-1"')}function s(){o.data(r,q).addClass(u.input).val(o.data("value")?q.get("select",D.format):y.value);if(!D.editable){o.on("focus."+C.id+" click."+C.id,function(F){F.preventDefault();q.open()}).on("keydown."+C.id,n)}i(y,{haspopup:true,expanded:false,readonly:false,owns:y.id+"_root"})}function v(){i(q.$root[0],"hidden",true)}function A(){q.$holder.on({keydown:n,"focus.toOpen":m,blur:function(){o.removeClass(u.target)},focusin:function(F){q.$root.removeClass(u.focused);F.stopPropagation()},"mousedown click":function(F){var G=F.target;if(G!=q.$holder[0]){F.stopPropagation();if(F.type=="mousedown"&&!g(G).is("input, select, textarea, button, option")){F.preventDefault();q.$holder[0].focus()}}}}).on("click","[data-pick], [data-nav], [data-clear], [data-close]",function(){var G=g(this),I=G.data(),F=G.hasClass(u.navDisabled)||G.hasClass(u.disabled),H=j();H=H&&(H.type||H.href);if(F||H&&!g.contains(q.$root[0],H)){q.$holder[0].focus()}if(!F&&I.nav){q.set("highlight",q.component.item.highlight,{nav:I.nav})}else{if(!F&&"pick" in I){q.set("select",I.pick);if(D.closeOnSelect){q.close(true)}}else{if(I.clear){q.clear();if(D.closeOnClear){q.close(true)}}else{if(I.close){q.close(true)}}}}})}function E(){var F;if(D.hiddenName===true){F=y.name;y.name=""}else{F=[typeof D.hiddenPrefix=="string"?D.hiddenPrefix:"",typeof D.hiddenSuffix=="string"?D.hiddenSuffix:"_submit"];F=F[0]+y.name+F[1]}q._hidden=g('<input type=hidden name="'+F+'"'+(o.data("value")||y.value?' value="'+q.get("select",D.formatSubmit)+'"':"")+">")[0];o.on("change."+C.id,function(){q._hidden.value=y.value?q.get("select",D.formatSubmit):""})}function B(){if(w&&a){q.$holder.find("."+u.frame).one("transitionend",function(){q.$holder[0].focus()})}else{q.$holder[0].focus()}}function m(F){F.stopPropagation();o.addClass(u.target);q.$root.addClass(u.focused);q.open()}function n(G){var F=G.keyCode,H=/^(8|46)$/.test(F);if(F==27){q.close(true);return false}if(F==32||H||!C.open&&q.component.key[F]){G.preventDefault();G.stopPropagation();if(H){q.clear().close()}else{q.open()}}}return new t()}h.klasses=function(m){m=m||"picker";return{picker:m,opened:m+"--opened",focused:m+"--focused",input:m+"__input",active:m+"__input--active",target:m+"__input--target",holder:m+"__holder",frame:m+"__frame",wrap:m+"__wrap",box:m+"__box"}};function k(m){var n,o="position";if(m.currentStyle){n=m.currentStyle[o]}else{if(window.getComputedStyle){n=getComputedStyle(m)[o]}}return n=="fixed"}function d(){if(f.height()<=b.height()){return 0}var m=g('<div style="visibility:hidden;width:100px" />').appendTo("body");var o=m[0].offsetWidth;m.css("overflow","scroll");var p=g('<div style="width:100%" />').appendTo(m);var n=p[0].offsetWidth;m.remove();return o-n}h._={group:function(p){var m,o="",n=h._.trigger(p.min,p);for(;n<=h._.trigger(p.max,p,[n]);n+=p.i){m=h._.trigger(p.item,p,[n]);o+=h._.node(p.node,m[0],m[1],m[2])}return o},node:function(p,o,m,n){if(!o){return""}o=g.isArray(o)?o.join(""):o;m=m?' class="'+m+'"':"";n=n?" "+n:"";return"<"+p+m+n+">"+o+"</"+p+">"},lead:function(m){return(m<10?"0":"")+m},trigger:function(o,n,m){return typeof o=="function"?o.apply(n,m||[]):o},digits:function(m){return(/\d/).test(m[1])?2:1},isDate:function(m){return{}.toString.call(m).indexOf("Date")>-1&&this.isInteger(m.getDate())},isInteger:function(m){return{}.toString.call(m).indexOf("Number")>-1&&m%1===0},ariaAttr:c};h.extend=function(n,m){g.fn[n]=function(o,q){var p=this.data(n);if(o=="picker"){return p}if(p&&typeof o=="string"){return h._.trigger(p[o],p,[q])}return this.each(function(){var r=g(this);if(!r.data(n)){new h(this,n,m,o)}})};g.fn[n].defaults=m.defaults};function i(n,o,p){if(g.isPlainObject(o)){for(var m in o){l(n,m,o[m])}}else{l(n,o,p)}}function l(m,n,o){m.setAttribute((n=="role"?"":"aria-")+n,o)}function c(p,q){if(!g.isPlainObject(p)){p={attribute:q}}q="";for(var o in p){var m=(o=="role"?"":"aria-")+o,n=p[o];q+=n==null?"":m+'="'+p[o]+'"'}return q}function j(){try{return document.activeElement}catch(m){}}return h}));